# sessions
# test_session_view
# index
# index.html
# accounts creating


# build-in django auth
installed in installed_app, middlewares authMiddleware

change path("accounts/", include("accounts.urls", namespace="accounts"))
on path("accounts/", include("django.contrib.auth.urls"))
namespace="accounts" - удаляем так как в urls никгде не прописан app_name="accounts",
поэтому красивый переход не получится юзать

папка registration, перемещаем/копируем с catalog
меняем catalog: на пустоту в registration и других html

меняем login.html
для редиректа не на profile.html а на main добавь в settings.py LOGIN_REDIRECT_URL

можно удалять accounts - оно не нужно, теперь полностью на built-in django

<input type="hidden" name="text" value="{{ next }}"> - to login.html